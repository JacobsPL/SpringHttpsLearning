<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Zmiana hasła</title>
</head>
<body>
<h1>Zmiana hasła</h1>

<!-- komunikaty -->
<div th:if="${success}" style="color: green;" th:text="${success}"></div>
<div th:if="${error}" style="color: red;" th:text="${error}"></div>

<form th:action="@{/index/userSettings/changePassword}" method="post" th:object="${changePasswordForm}" autocomplete="off">

    <div>
        <label for="currentPassword">Obecne hasło</label><br>
        <input type="password" id="currentPassword" th:field="*{currentPassword}" required>
    </div>

    <div>
        <label for="newPassword">Nowe hasło</label><br>
        <input type="password" id="newPassword" th:field="*{newPassword}" minlength="8" required>
    </div>

    <div>
        <label for="confirmPassword">Powtórz nowe hasło</label><br>
        <input type="password" id="confirmPassword" th:field="*{confirmPassword}" minlength="8" required>
    </div>

    <!-- CSRF token -->
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

    <br>
    <button type="submit">Zmień hasło</button>
</form>

<br>
<a th:href="@{/index/userSettings}">← Powrót do ustawień użytkownika</a>

</body>
</html>
